<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reserva de Canchas - Limache</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <div id="listado-page" class="container-page active">
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container-fluid">
                <a class="navbar-brand fw-bold" href="#"><i class="fas fa-futbol me-2"></i>Canchas Limache</a>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="#" id="showListado"><i class="fas fa-list me-2"></i>Canchas Disponibles</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" id="showMisReservas"><i class="fas fa-calendar-check me-2"></i>Mis Reservas</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" id="showFeedback"><i class="fas fa-comment-dots me-2"></i>Dejar Opinión</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <div class="container mt-5">
            <h2 class="mb-4 text-center fw-bold text-light">Selección de Cancha/Deporte</h2>
            <div class="card p-4 mb-4">
                <div class="row g-3 align-items-end">
                    <div class="col-md-5">
                        <label for="deporte-filtro" class="form-label">Deporte</label>
                        <select id="deporte-filtro" class="form-select">
                            <option selected value="todos">Todos</option>
                            <option value="futbol">Fútbol</option>
                            <option value="tenis">Tenis</option>
                            <option value="padel">Pádel</option>
                        </select>
                    </div>
                    <div class="col-md-5">
                        <label for="fecha-filtro" class="form-label">Fecha</label>
                        <input type="date" id="fecha-filtro" class="form-control">
                    </div>
                    <div class="col-md-2">
                        <button class="btn btn-primary w-100 btn-rounded" id="btnFiltrar"><i class="fas fa-search me-2"></i>Filtrar</button>
                    </div>
                </div>
            </div>
            <div id="canchas-listado" class="row">
                </div>
        </div>
    </div>

    <div id="reserva-page" class="container-page">
        <div class="container">
            <div class="login-container">
                <h2 class="text-center mb-4 fw-bold"><i class="fas fa-calendar-alt me-2"></i>Realizar Reserva</h2>
                <form id="reservaForm">
                    <div class="mb-3">
                        <label for="nombre-reserva" class="form-label">Nombre Completo</label>
                        <input type="text" class="form-control" id="nombre-reserva" required>
                    </div>
                    <div class="mb-3">
                        <label for="cancha-reserva" class="form-label">Cancha a Reservar</label>
                        <input type="text" class="form-control" id="cancha-reserva" disabled>
                    </div>
                    <div class="mb-3">
                        <label for="fecha-reserva" class="form-label">Fecha</label>
                        <input type="date" class="form-control" id="fecha-reserva" required>
                    </div>
                    <div class="mb-3">
                        <label for="hora-reserva" class="form-label">Hora</label>
                        <select id="hora-reserva" class="form-select" required>
                            </select>
                    </div>
                    <button type="button" class="btn btn-primary w-100 btn-rounded mt-3" id="btnConfirmarReserva"><i class="fas fa-check-circle me-2"></i>Confirmar Reserva</button>
                </form>
                <button type="button" class="btn btn-secondary w-100 btn-rounded mt-2" onclick="showPage('listado-page')"><i class="fas fa-arrow-left me-2"></i>Volver</button>
            </div>
        </div>
    </div>

    <div id="mis-reservas-page" class="container-page">
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container-fluid">
                <a class="navbar-brand fw-bold" href="#"><i class="fas fa-futbol me-2"></i>Canchas Limache</a>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link" href="#" id="showListado2"><i class="fas fa-list me-2"></i>Canchas Disponibles</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="#" id="showMisReservas2"><i class="fas fa-calendar-check me-2"></i>Mis Reservas</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" id="showFeedback2"><i class="fas fa-comment-dots me-2"></i>Dejar Opinión</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <div class="container mt-5">
            <h2 class="mb-4 text-center fw-bold text-light">Mis Reservas</h2>
            <div id="reservas-listado">
                </div>
            <p id="no-reservas-msg" class="text-center mt-4 text-light" style="display: none;">No tienes reservas activas.</p>
        </div>
    </div>

    <div id="feedback-page" class="container-page">
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container-fluid">
                <a class="navbar-brand fw-bold" href="#"><i class="fas fa-futbol me-2"></i>Canchas Limache</a>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link" href="#" id="showListado3"><i class="fas fa-list me-2"></i>Canchas Disponibles</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" id="showMisReservas3"><i class="fas fa-calendar-check me-2"></i>Mis Reservas</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="#" id="showFeedback3"><i class="fas fa-comment-dots me-2"></i>Dejar Opinión</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <div class="container mt-5">
            <div class="login-container">
                <h2 class="text-center mb-4 fw-bold"><i class="fas fa-comment-dots me-2"></i>Dejar tu Opinión</h2>
                <form id="feedbackForm">
                    <div class="mb-3">
                        <label for="usuario-feedback" class="form-label">Nombre de Usuario</label>
                        <input type="text" class="form-control" id="usuario-feedback" required>
                    </div>
                    <div class="mb-3">
                        <label for="cancha-feedback" class="form-label">Seleccionar Cancha</label>
                        <select id="cancha-feedback" class="form-select" required>
                            <option value="" disabled selected>Selecciona una cancha</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="calificacion-feedback" class="form-label">Calificación</label>
                        <div id="calificacion-feedback" class="d-flex gap-1 my-2">
                            <i class="fas fa-star star-rating" data-rating="1"></i>
                            <i class="fas fa-star star-rating" data-rating="2"></i>
                            <i class="fas fa-star star-rating" data-rating="3"></i>
                            <i class="fas fa-star star-rating" data-rating="4"></i>
                            <i class="fas fa-star star-rating" data-rating="5"></i>
                        </div>
                        <small class="text-muted">Selecciona de 1 a 5 estrellas</small>
                    </div>
                    <div class="mb-3">
                        <label for="comentario-feedback" class="form-label">Comentario</label>
                        <textarea id="comentario-feedback" class="form-control" rows="4" placeholder="Comparte tu experiencia sobre esta cancha..." required></textarea>
                    </div>
                    <button type="button" class="btn btn-primary w-100 btn-rounded mt-3" id="btnEnviarFeedback"><i class="fas fa-paper-plane me-2"></i>Enviar Opinión</button>
                </form>
                <button type="button" class="btn btn-secondary w-100 btn-rounded mt-2" onclick="showPage('listado-page')"><i class="fas fa-arrow-left me-2"></i>Volver</button>
            </div>
        </div>
    </div>

    <div class="modal fade" id="confirmacionModal" tabindex="-1" aria-labelledby="confirmacionModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-info text-white">
                    <h5 class="modal-title" id="confirmacionModalLabel"><i class="fas fa-question-circle me-2"></i>Confirmar Reserva</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>¿Estás seguro de que deseas reservar la cancha en la fecha y hora seleccionada?</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary btn-rounded" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-success btn-rounded" id="btnProcesarReserva">Confirmar</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="errorModal" tabindex="-1" aria-labelledby="errorModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-danger text-white">
                    <h5 class="modal-title" id="errorModalLabel"><i class="fas fa-exclamation-triangle me-2"></i>¡Error en la Reserva!</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Lo sentimos, esta cancha ya está reservada en la fecha y hora seleccionada. Por favor, elige otro horario.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger btn-rounded" data-bs-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="reservaExitosaModal" tabindex="-1" aria-labelledby="reservaExitosaModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-success text-white">
                    <h5 class="modal-title" id="reservaExitosaModalLabel"><i class="fas fa-check-circle me-2"></i>¡Reserva Exitosa!</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Tu cancha ha sido reservada con éxito. ¡A disfrutar!</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-success btn-rounded" data-bs-dismiss="modal">Aceptar</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="cancelacionExitosaModal" tabindex="-1" aria-labelledby="cancelacionExitosaModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-danger text-white">
                    <h5 class="modal-title" id="cancelacionExitosaModalLabel"><i class="fas fa-times-circle me-2"></i>¡Cancelación Exitosa!</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Tu reserva ha sido cancelada correctamente.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger btn-rounded" data-bs-dismiss="modal">Aceptar</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="comentariosModal" tabindex="-1" aria-labelledby="comentariosModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title" id="comentariosModalLabel"><i class="fas fa-comments me-2"></i>Opiniones de la Cancha</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div id="comentarios-listado">
                        <!-- Aquí se cargarán los comentarios -->
                    </div>
                    <p id="no-comentarios-msg" class="text-center text-muted" style="display: none;">No hay opiniones para esta cancha aún.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary btn-rounded" data-bs-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="cancelacionModal" tabindex="-1" aria-labelledby="cancelacionModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-danger text-white">
                    <h5 class="modal-title" id="cancelacionModalLabel"><i class="fas fa-trash-alt me-2"></i>Confirmar Cancelación</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>¿Estás seguro de que deseas cancelar esta reserva?</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary btn-rounded" data-bs-dismiss="modal">No, mantener</button>
                    <button type="button" class="btn btn-danger btn-rounded" id="btnConfirmarCancelacion">Sí, cancelar</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="app.js"></script>
</body>
</html>
